<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì¶œì¥ ì „ë‹´ ì—¬í–‰ì‚¬ ì•ˆë‚´ë¬¸ | í•˜ë‚˜íˆ¬ì–´ë¹„ì¦ˆë‹ˆìŠ¤</title>
    <style>
        :root { --dark-blue: #1a2a4e; --point-red: #e31a1a; --beige: #bca896; }
        body { font-family: 'Pretendard', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        
        /* ì„¤ì • íŒ¨ë„ */
        .admin-panel { max-width: 1100px; margin: 0 auto 30px; background: #fff; padding: 25px; border-radius: 12px; border: 2px solid var(--dark-blue); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .input-group { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px; }
        .section-title { font-size: 0.95em; font-weight: bold; color: var(--point-red); margin-bottom: 10px; border-left: 4px solid var(--point-red); padding-left: 10px; margin-top: 25px; }
        .staff-input-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 10px; background: #f9f9f9; padding: 15px; border-radius: 8px; border: 1px solid #eee; }
        .staff-input-unit { background: white; padding: 10px; border: 1px solid #ddd; border-radius: 8px; display: flex; flex-direction: column; gap: 5px; }
        label { font-size: 0.85em; font-weight: bold; color: #333; margin-bottom: 5px; display: block; }
        input, select { width: 100%; padding: 7px; border: 1px solid #ccc; border-radius: 4px; font-size: 0.85em; box-sizing: border-box; }
        .print-btn { background: var(--point-red); color: white; padding: 15px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 20px; font-size: 1.1em; }

        /* ì•ˆë‚´ë¬¸ ë””ìì¸ (A4) */
        .page { width: 210mm; min-height: 297mm; padding: 0; margin: 0 auto; background: white; position: relative; overflow: hidden; color: #333; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
        .date-bar { background: #3d3229; color: white; padding: 12px 50px; font-size: 1.1em; letter-spacing: 0.5px; font-weight: 300; }
        .header { background: var(--dark-blue); color: white; padding: 45px 50px; position: relative; display: flex; justify-content: space-between; align-items: flex-start; }
        .header h1 { font-size: 3.2em; margin: 0; line-height: 1.1; font-weight: 800; letter-spacing: -1px; }
        .logo-client { max-width: 150px; max-height: 60px; filter: brightness(0) invert(1); object-fit: contain; }
        
        .content-body { padding: 30px 50px; background: #fcfaf8; }
        .intro-section { display: flex; gap: 30px; margin-bottom: 25px; align-items: flex-start; border-bottom: 1px solid #eee; padding-bottom: 25px; }
        .company-logo-main { width: 220px; object-fit: contain; }
        .intro-text-box { flex: 1; font-size: 0.9em; line-height: 1.7; color: #444; }

        .team-section { margin-bottom: 20px; }
        .team-label { background: var(--beige); color: white; padding: 5px 15px; font-weight: bold; border-radius: 5px 5px 0 0; display: inline-block; font-size: 0.8em; }
        .staff-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; border-top: 2px solid var(--beige); padding-top: 10px; }
        .staff-card { background: white; border: 1px solid #e0d6cd; padding: 8px; border-radius: 40px 10px 10px 40px; display: flex; align-items: center; gap: 10px; height: 85px; box-sizing: border-box; }
        .staff-card img { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; background: #eee; flex-shrink: 0; }
        .staff-info { font-size: 0.7em; line-height: 1.4; overflow: hidden; }
        .staff-info b { font-size: 1.1em; color: var(--dark-blue); }
        .staff-info .email { color: var(--point-red); font-size: 0.9em; }

        .footer-index { position: absolute; bottom: 0; left: 0; right: 0; background: #f8f9fa; border-top: 1px solid #ddd; padding: 25px 50px 35px; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 25px; }
        .index-item { border-left: 2px solid var(--beige); padding-left: 15px; }
        .index-item h4 { margin: 0 0 5px; font-size: 0.9em; color: var(--dark-blue); }
        .index-item p { margin: 0; font-size: 0.75em; color: #666; line-height: 1.5; }

        @media print { body { padding: 0; background: none; } .admin-panel { display: none !important; } .page { margin: 0; border: none; box-shadow: none; width: 210mm; } }
    </style>
</head>
<body>

    <div class="admin-panel">
        <h2 style="margin-top:0;">ğŸ“‹ ì „ë‹´ ì„œë¹„ìŠ¤ ì•ˆë‚´ë¬¸ ìƒì„±ê¸° (ìµœì¢… í†µí•©ë³¸)</h2>
        <div class="input-group">
            <div><label>ë°œë ¹ì¼/ë‚ ì§œ ì…ë ¥</label><input type="text" id="in-date" oninput="updateView()"></div>
            <div><label>ìƒëŒ€ ì—…ì²´ëª…</label><input type="text" id="in-client" value="LH í•œêµ­í† ì§€ì£¼íƒê³µì‚¬" oninput="updateView()"></div>
            <div><label>ìƒëŒ€ ì—…ì²´ ë¡œê³ </label><input type="file" onchange="loadLogo(event)"></div>
        </div>

        <div id="input-containers">
            <div class="section-title">ğŸ‘¤ ì„œë¹„ìŠ¤ ì´ê´„ ë° ì˜ì—…ê´€ë¦¬ (ìš°ë¦¬íŒ€ì›)</div>
            <div class="staff-input-grid" id="mgt-inputs"></div>
            <div class="section-title">âœˆï¸ í•­ê³µ ì„œë¹„ìŠ¤íŒ€</div>
            <div class="staff-input-grid" id="air-inputs"></div>
            <div class="section-title">ğŸ¨ í˜¸í…” & ğŸ›‚ ë¹„ì ì„œë¹„ìŠ¤íŒ€</div>
            <div class="staff-input-grid" id="etc-inputs"></div>
        </div>
        <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„ ë° PDF ì €ì¥</button>
    </div>

    <div class="page">
        <div class="date-bar"><span id="view-date"></span>ë¶€í„° <span class="v-client-inline">ì—…ì²´ëª…</span> ì¶œì¥ ì „ë‹´ ì—¬í–‰ì‚¬ê°€ í•˜ë‚˜íˆ¬ì–´ë¹„ì¦ˆë‹ˆìŠ¤ë¡œ ìƒˆë¡­ê²Œ ìš´ì˜ë©ë‹ˆë‹¤.</div>
        <div class="header">
            <h1><span id="view-client">LH í•œêµ­í† ì§€ì£¼íƒê³µì‚¬</span><br>ì „ë‹´ ì„œë¹„ìŠ¤íŒ€ êµ¬ì„±</h1>
            <img id="view-logo" src="" class="logo-client" style="display:none;">
        </div>

        <div class="content-body">
            <div class="intro-section">
                <img src="photos/logo.png" class="company-logo-main" onerror="this.src='https://via.placeholder.com/220x80?text=HanaTour+Business'">
                <div class="intro-text-box">
                    <strong><span class="v-client-inline">LH í•œêµ­í† ì§€ì£¼íƒê³µì‚¬</span> ì„ì§ì› ì—¬ëŸ¬ë¶„, ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ.</strong><br>
                    í•˜ë‚˜íˆ¬ì–´ë¹„ì¦ˆë‹ˆìŠ¤ëŠ” ì „ë‹´ ì¡°ì§ì„ í†µí•´ ì‹ ì†í•˜ê³  ì •í™•í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ì—¬í–‰ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ê²ƒì„ ì•½ì†ë“œë¦½ë‹ˆë‹¤.
                </div>
            </div>

            <div class="team-section"><div class="team-label">MANAGEMENT & SUPPORT (ì´ê´„)</div><div class="staff-grid" id="view-mgt"></div></div>
            <div class="team-section"><div class="team-label">AIR SERVICE (í•­ê³µ)</div><div class="staff-grid" id="view-air"></div></div>
            <div class="team-section"><div class="team-label">HOTEL & VISA SERVICE (í˜¸í…”/ë¹„ì)</div><div class="staff-grid" id="view-etc"></div></div>
        </div>

        <div class="footer-index">
            <div class="index-item"><h4>DAEGU (ì˜ì—…3íŒ€)</h4><p>ëŒ€êµ¬ ì¤‘êµ¬ êµ­ì±„ë³´ìƒë¡œ 648 í˜¸ìˆ˜ë¹Œë”© 15ì¸µ</p></div>
            <div class="index-item"><h4>SEOUL (ë³¸ì‚¬)</h4><p>ì„œìš¸ ì¤‘êµ¬ ì¸ì‚¬ë™ 5ê¸¸ 25</p></div>
            <div class="index-item"><h4>CONTACT</h4><p>ì „ë‹´íŒ€ ëŒ€í‘œ: 053-421-2334</p></div>
        </div>
    </div>

    <script>
        function getTodayDisplay() {
            const now = new Date();
            const days = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
            return `${now.getFullYear()}ë…„ ${now.getMonth() + 1}ì›” ${now.getDate()}ì¼(${days[now.getDay()]})`;
        }

        const pools = {
            mgt: [
                {n:"ê¹€ë™ìš± íŒ€ì¥", v:"ì„œë¹„ìŠ¤ ì´ê´„/ê¹€ë™ìš± ë¶€ì¥(íŒ€ì¥)/010-8560-6258/ugi@hanatour.com", img:"photos/ê¹€ë™ìš±.png"},
                {n:"ìµœë´‰ì¬ ìˆ˜ì„", v:"ì˜ì—… ê´€ë¦¬/ìµœë´‰ì¬ ì°¨ì¥(ìˆ˜ì„)/010-7438-0333/meg234@hanatour.com", img:"photos/ìµœë´‰ì¬.png"},
                {n:"ê¹€íƒœê·¼ ì„ ì„", v:"ì˜ì—… ê´€ë¦¬/ê¹€íƒœê·¼ ê³¼ì¥(ì„ ì„)/010-5584-4616/ktk1104zzang@hanatour.com", img:"photos/ê¹€íƒœê·¼.png"},
                {n:"ê¹€ì±„ìŠ¤ ì„ ì„", v:"ì§€ì› ê´€ë¦¬/ê¹€ì±„ìŠ¤ë¯¼ ëŒ€ë¦¬(ì„ ì„)/010-9988-3266/smings@hanatour.com", img:"photos/ê¹€ì±„ìŠ¤ë¯¼.png"},
                {n:"ì¥í˜„ìˆ˜ ì‚¬ì›", v:"ì§€ì› ê´€ë¦¬/ì¥í˜„ìˆ˜ ì‚¬ì›/010-3390-5716/lovehs99@hanatour.com", img:"photos/ì¥í˜„ìˆ˜.png"}
            ],
            air: [
                {n:"ê°•ê²½ë‹¨ ë¶€ì¥", v:"í•­ê³µ ë‹´ë‹¹/ê°•ê²½ë‹¨ ë¶€ì¥/02-2127-1234/air1@hanatour.com"},
                {n:"ë°•ì„ í¬ ë¶€ì¥", v:"í•­ê³µ ë‹´ë‹¹/ë°•ì„ í¬ ë¶€ì¥/042-862-9526/air1@hanatour.com"},
                {n:"ì‹ í¬ì²  ë¶€ì¥", v:"í•­ê³µ ë‹´ë‹¹/ì‹ í¬ì²  ë¶€ì¥/02-2076-2259/air1@hanatour.com"},
                {n:"ìœ¤í˜œê²½ ë¶€ì¥", v:"í•­ê³µ ë‹´ë‹¹/ìœ¤í˜œê²½ ë¶€ì¥/02-2076-2291/air1@hanatour.com"},
                {n:"ê¹€í¬ì„  ì°¨ì¥", v:"í•­ê³µ ë‹´ë‹¹/ê¹€í¬ì„  ì°¨ì¥/02-2076-2265/air1@hanatour.com"},
                {n:"ì‹ ì •ì•  ì°¨ì¥", v:"í•­ê³µ ë‹´ë‹¹/ì‹ ì •ì•  ì°¨ì¥/042-862-8766/air1@hanatour.com"},
                {n:"ê¹€ë‚˜ë¦¬ ê³¼ì¥", v:"í•­ê³µ ë‹´ë‹¹/ê¹€ë‚˜ë¦¬ ê³¼ì¥/02-2076-2297/air1@hanatour.com"},
                {n:"ë°•ì •ì•„ ê³¼ì¥", v:"í•­ê³µ ë‹´ë‹¹/ë°•ì •ì•„ ê³¼ì¥/02-2127-7230/air1@hanatour.com"},
                {n:"ì´ì„ ë¯¼ ê³¼ì¥", v:"í•­ê³µ ë‹´ë‹¹/ì´ì„ ë¯¼ ê³¼ì¥/02-2076-2294/air1@hanatour.com"},
                {n:"ì •ì„ í™” ê³¼ì¥", v:"í•­ê³µ ë‹´ë‹¹/ì •ì„ í™” ê³¼ì¥/042-862-8767/air1@hanatour.com"},
                {n:"ì•ˆì†Œì˜ ëŒ€ë¦¬", v:"í•­ê³µ ë‹´ë‹¹/ì•ˆì†Œì˜ ëŒ€ë¦¬/02-2076-2260/air1@hanatour.com"},
                {n:"ì´ì˜¥ì£¼ ëŒ€ë¦¬", v:"í•­ê³µ ë‹´ë‹¹/ì´ì˜¥ì£¼ ëŒ€ë¦¬/02-2127-5678/air1@hanatour.com"},
                {n:"ê¹€ì„œì˜ ì‚¬ì›", v:"í•­ê³µ ë‹´ë‹¹/ê¹€ì„œì˜ ì‚¬ì›/02-2076-2253/air1@hanatour.com"}
            ],
            etc: [
                {n:"ë³€ìœ¤ìˆ™ ë¶€ì¥(í˜¸í…”)", v:"í˜¸í…” ë‹´ë‹¹/ë³€ìœ¤ìˆ™ ë¶€ì¥/02-2076-2289/hotel1@hanatour.com"},
                {n:"ì´ê¸¸í˜„ ë¶€ì¥(í˜¸í…”)", v:"í˜¸í…” ë‹´ë‹¹/ì´ê¸¸í˜„ ë¶€ì¥/02-2076-2219/hotel1@hanatour.com"},
                {n:"ê°•ë³‘ì‹ ê³¼ì¥(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ê°•ë³‘ì‹ ê³¼ì¥/02-2076-2216/visa1@hanatour.com"},
                {n:"ê¹€ìˆ˜í˜„ ê³¼ì¥(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ê¹€ìˆ˜í˜„ ê³¼ì¥/02-2076-2215/visa1@hanatour.com"},
                {n:"ì •ê²½í¬ ê³¼ì¥(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ì •ê²½í¬ ê³¼ì¥/02-2121-7642/visa1@hanatour.com"},
                {n:"ê¹€ë¯¼ê²½ ëŒ€ë¦¬(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ê¹€ë¯¼ê²½ ëŒ€ë¦¬/02-6100-0147/visa1@hanatour.com"},
                {n:"ì´ìˆ˜ë¯¼ ëŒ€ë¦¬(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ì´ìˆ˜ë¯¼ ëŒ€ë¦¬/02-2076-2284/visa1@hanatour.com"},
                {n:"ì§€ì‚¬ë¼ ëŒ€ë¦¬(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ì§€ì‚¬ë¼ ëŒ€ë¦¬/02-6730-3356/visa1@hanatour.com"},
                {n:"ê¹€ê°€ì˜ ì‚¬ì›(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ê¹€ê°€ì˜ ì‚¬ì›/02-6730-3330/visa1@hanatour.com"},
                {n:"ë°•ìœ ì§„ ì‚¬ì›(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ë°•ìœ ì§„ ì‚¬ì›/02-6730-3332/visa1@hanatour.com"},
                {n:"ì¡°ì•„ë‘ ì‚¬ì›(ë¹„ì)", v:"ë¹„ì ë‹´ë‹¹/ì¡°ì•„ë‘ ì‚¬ì›/02-6730-3352/visa1@hanatour.com"}
            ]
        };

        const config = [
            { id: 'mgt', title: 'ì´ê´„/ê´€ë¦¬', count: 5, pool: pools.mgt, target: 'mgt-inputs', view: 'view-mgt' },
            { id: 'air', title: 'í•­ê³µ ë‹´ë‹¹', count: 6, pool: pools.air, target: 'air-inputs', view: 'view-air' },
            { id: 'etc', title: 'í˜¸í…”/ë¹„ì', count: 6, pool: pools.etc, target: 'etc-inputs', view: 'view-etc' }
        ];

        function init() {
            document.getElementById('in-date').value = getTodayDisplay();
            config.forEach(sec => {
                const container = document.getElementById(sec.target);
                for(let i=0; i<sec.count; i++) {
                    container.innerHTML += `
                        <div class="staff-input-unit">
                            <label>${sec.title} ${i+1}</label>
                            <select onchange="fillInput(this, '${sec.id}', ${i})">
                                <option value="">ë‹´ë‹¹ì ì„ íƒ</option>
                                ${sec.pool.map(s => `<option value="${s.v}">${s.n}</option>`).join('')}
                                <option value="DIRECT">ì§ì ‘ ì…ë ¥</option>
                            </select>
                            <input type="text" id="${sec.id}-n-${i}" placeholder="ì§ì±…/ì´ë¦„/ë²ˆí˜¸/ë©”ì¼" oninput="renderAll()">
                        </div>`;
                }
            });
            updateView();
            renderAll();
        }

        function fillInput(sel, id, i) {
            if(sel.value && sel.value !== "DIRECT") document.getElementById(`${id}-n-${i}`).value = sel.value;
            renderAll();
        }

        function renderAll() {
            config.forEach(sec => {
                const view = document.getElementById(sec.view);
                view.innerHTML = '';
                for(let i=0; i<sec.count; i++) {
                    const val = document.getElementById(`${sec.id}-n-${i}`).value;
                    if(val) {
                        const [tag, name, tel, email] = val.split('/');
                        // ì‚¬ì§„ íŒŒì¼ ë§¤ì¹­ ë¡œì§ (poolì—ì„œ ì´ë¦„ ì°¾ê¸°)
                        const staffData = sec.pool.find(p => p.v === val);
                        const imgSrc = (staffData && staffData.img) ? staffData.img : `https://via.placeholder.com/60?text=${name ? name.charAt(0) : 'U'}`;
                        
                        view.innerHTML += `
                            <div class="staff-card">
                                <img src="${imgSrc}" onerror="this.src='https://via.placeholder.com/60?text=${name ? name.charAt(0) : 'U'}'">
                                <div class="staff-info">
                                    <b>${name||''}</b><br>
                                    ${tag||''}<br>
                                    ğŸ“${tel||''}<br>
                                    <span class="email">${email||''}</span>
                                </div>
                            </div>`;
                    }
                }
            });
        }

        function updateView() {
            const date = document.getElementById('in-date').value;
            const client = document.getElementById('in-client').value || 'ì—…ì²´ëª…';
            document.getElementById('view-date').innerText = date;
            document.getElementById('view-client').innerText = client;
            document.querySelectorAll('.v-client-inline').forEach(el => el.innerText = client);
        }

        function loadLogo(e) {
            const out = document.getElementById('view-logo');
            if(e.target.files[0]) { out.src = URL.createObjectURL(e.target.files[0]); out.style.display = 'block'; }
        }

        window.onload = init;
    </script>
</body>
</html>
