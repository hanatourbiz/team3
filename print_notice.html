<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì¶œì¥ ì „ë‹´ ì—¬í–‰ì‚¬ ë³€ê²½ ì•ˆë‚´ë¬¸ ì œì‘ | ë²•ì¸ì˜ì—…3íŒ€</title>
    <style>
        :root { --dark-blue: #1a2a4e; --point-red: #e31a1a; --beige: #bca896; }
        body { font-family: 'Pretendard', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
        
        /* ì„¤ì • íŒ¨ë„ */
        .admin-panel { max-width: 1050px; margin: 0 auto 30px; background: #fff; padding: 25px; border-radius: 12px; border: 2px solid var(--dark-blue); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .input-group { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .staff-selection-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; background: #f9f9f9; padding: 15px; border-radius: 8px; }
        .staff-input-unit { background: white; padding: 10px; border: 1px solid #ddd; border-radius: 8px; display: flex; flex-direction: column; gap: 5px; }
        .staff-input-unit label { font-size: 0.8em; font-weight: bold; color: var(--dark-blue); }
        
        input, select { width: 100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px; font-size: 0.85em; box-sizing: border-box; }
        .file-input { font-size: 0.7em; }
        .print-btn { background: var(--point-red); color: white; padding: 15px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 20px; font-size: 1.1em; }

        /* ì•ˆë‚´ë¬¸ ë””ìì¸ (A4) */
        .page { width: 210mm; min-height: 297mm; padding: 0; margin: 0 auto; background: white; box-sizing: border-box; position: relative; overflow: hidden; color: #333; }
        .header { background: var(--dark-blue); color: white; padding: 60px 50px; position: relative; }
        .logo-client { position: absolute; top: 40px; right: 50px; max-width: 150px; max-height: 60px; filter: brightness(0) invert(1); object-fit: contain; }
        .header h1 { font-size: 3.5em; margin: 0; line-height: 1.1; font-weight: 800; }
        .header .sub-text { margin-top: 30px; font-size: 1.1em; background: rgba(255,255,255,0.1); padding: 12px 20px; display: inline-block; border-radius: 5px; }

        .content-body { padding: 40px 50px; background: #fcfaf8; }
        .team-title-bar { background: var(--beige); color: white; padding: 12px 20px; font-weight: bold; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; border-radius: 5px; }
        .staff-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 30px; }
        .staff-card { background: white; border: 1px solid #e0d6cd; padding: 10px; border-radius: 50px 10px 10px 50px; display: flex; align-items: center; gap: 12px; height: 85px; box-sizing: border-box; }
        .staff-card img { width: 65px; height: 65px; border-radius: 50%; object-fit: cover; border: 2px solid var(--beige); flex-shrink: 0; background: #f0f0f0; }
        .staff-info { font-size: 0.8em; line-height: 1.3; }
        .staff-info b { font-size: 1.1em; color: var(--dark-blue); }
        .staff-tag { background: #333; color: white; padding: 1px 8px; border-radius: 10px; font-size: 0.75em; display: inline-block; margin-bottom: 2px; }

        .emergency-bar { background: #fff; border-top: 3px solid var(--beige); border-bottom: 3px solid var(--beige); padding: 15px; text-align: center; font-size: 0.9em; font-weight: bold; margin-bottom: 30px; }
        .promise-container { border: 2px solid #333; border-radius: 15px; padding: 20px; margin-bottom: 30px; background: white; font-size: 0.85em; line-height: 1.6; }
        .service-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; text-align: center; }
        .service-item { background: white; padding: 10px; border-radius: 10px; border: 1px solid #eee; font-size: 0.75em; font-weight: bold; }

        @media print { .admin-panel { display: none; } .page { margin: 0; border: none; width: 210mm; } }
    </style>
</head>
<body>

    <div class="admin-panel">
        <h2>ğŸ› ï¸ ë²•ì¸ì˜ì—…3íŒ€ ì•ˆë‚´ë¬¸ ì œì‘ ë„êµ¬</h2>
        <div class="input-group">
            <div><label>ì—…ì²´ëª…</label><input type="text" id="in-client" placeholder="ì˜ˆ: í˜„ëŒ€ìŠ¤í‹¸íŒŒì´í”„" oninput="updateView()"></div>
            <div><label>ì—…ì²´ ë¡œê³ </label><input type="file" onchange="loadLogo(event)"></div>
            <div><label>ì‹œì‘ì¼ (ë¯¸ì…ë ¥ì‹œ ì˜¤ëŠ˜)</label><input type="text" id="in-date" placeholder="ì˜ˆ: 2026ë…„ 02ì›” 16ì¼(ì›”)" oninput="updateView()"></div>
        </div>

        <div class="staff-selection-grid">
            <script>
                const roles = ["ì„œë¹„ìŠ¤ ì´ê´„", "ì˜ì—… ê´€ë¦¬", "í•­ê³µ ë‹´ë‹¹ 1", "í•­ê³µ ë‹´ë‹¹ 2", "í•­ê³µ ë‹´ë‹¹ 3", "í˜¸í…” ë‹´ë‹¹ 1", "í˜¸í…” ë‹´ë‹¹ 2", "ë¹„ì ë‹´ë‹¹ 1", "ë¹„ì ë‹´ë‹¹ 2"];
                roles.forEach((role, i) => {
                    document.write(`
                        <div class="staff-input-unit" id="unit-${i}">
                            <label>${role}</label>
                            <select onchange="handleSelect(this, ${i})">
                                <option value="">íŒ€ì› ì„ íƒ</option>
                                <option value="ì„œë¹„ìŠ¤ ì´ê´„/ê¹€ë™ìš± íŒ€ì¥/010-8560-6258/kim.png">ê¹€ë™ìš± íŒ€ì¥</option>
                                <option value="ì˜ì—… ê´€ë¦¬/ìµœë´‰ì¬ ìˆ˜ì„/010-7438-0333/choi.png">ìµœë´‰ì¬ ìˆ˜ì„</option>
                                <option value="í•­ê³µ/ê¹€íƒœê·¼ ì„ ì„/010-5584-4616/tae.png">ê¹€íƒœê·¼ ì„ ì„</option>
                                <option value="í˜¸í…”/ê¹€ì±„ìŠ¤ë¯¼ ì„ ì„/010-9988-3266/chae.png">ê¹€ì±„ìŠ¤ë¯¼ ì„ ì„</option>
                                <option value="ë¹„ì/ì¥í˜„ìˆ˜ ì‚¬ì›/010-3390-5716/jang.png">ì¥í˜„ìˆ˜ ì‚¬ì›</option>
                                <option value="DIRECT">ì§ì ‘ ì…ë ¥</option>
                            </select>
                            <input type="text" id="name-${i}" placeholder="ì—­í• /ì´ë¦„/ë²ˆí˜¸" oninput="renderStaff()">
                            <input type="file" class="file-input" onchange="handleFile(this, ${i})">
                        </div>
                    `);
                });
            </script>
        </div>
        <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ ì¸ì‡„ / PDF ì €ì¥</button>
    </div>

    <div class="page">
        <div class="header">
            <img id="view-logo" src="" class="logo-client" style="display:none;">
            <div style="font-size: 1.1em; font-weight: bold; margin-bottom: 10px;">HANATOUR BUSINESS</div>
            <h1><span id="view-client">ì—…ì²´ëª…</span><br>ì¶œì¥ ì „ë‹´ ì—¬í–‰ì‚¬ ë³€ê²½ ì•ˆë‚´</h1>
            <div class="sub-text"><span id="view-date"></span>ë¶€í„° <span class="v-client-inline">ì—…ì²´ëª…</span> ì „ë‹´ ìš´ì˜ì´ ì‹œì‘ë©ë‹ˆë‹¤.</div>
        </div>

        <div class="content-body">
            <div class="team-title-bar"><span>ì „ë‹´ ì„œë¹„ìŠ¤íŒ€ ëª…ë‹¨</span><span>ë²•ì¸ì˜ì—…3íŒ€</span></div>
            <div class="staff-grid" id="staff-view"></div>
            <div class="emergency-bar">ì£¼ë§Â·ê³µíœ´ì¼ 24ì‹œê°„ ê¸´ê¸‰ ì§€ì› ì„¼í„° ( â˜ : +82-02-1577-2770 )</div>
            
            <div style="text-align:center; margin-bottom:15px;"><span style="background:#fef3c7; padding:5px 20px; font-weight:bold;">ì €í¬ì˜ ì•½ì†</span></div>
            <div class="promise-container">
                â€¢ <b>Customer Satisfaction:</b> ì‹ ì†Â·ì •í™•í•œ ì „ë‹´ ì„œë¹„ìŠ¤ë¥¼ ì•½ì†í•©ë‹ˆë‹¤.<br>
                â€¢ <b>Safety & Security:</b> 24ì‹œê°„ ê¸´ê¸‰ì§€ì›ì„¼í„°ë¡œ ì„ì§ì› ì•ˆì „ì„ ë³´ì¥í•©ë‹ˆë‹¤.<br>
                â€¢ <b>Efficiency:</b> ì‹¤ì‹œê°„ ì˜ˆì•½ ì‹œìŠ¤í…œ(BTMS)ìœ¼ë¡œ ì—…ë¬´ í¸ì˜ë¥¼ ë†’ì…ë‹ˆë‹¤.
            </div>

            <div class="service-grid">
                <div class="service-item">ğŸ’» ì „ìš© í™ˆí˜ì´ì§€</div>
                <div class="service-item">ğŸ’– ë¬¸í™” í–‰ì‚¬ ì´ˆì²­</div>
                <div class="service-item">ğŸ§³ ê°œì¸ì—¬í–‰ í• ì¸</div>
                <div class="service-item">ğŸ§´ ì—¬í–‰ íŒŒìš°ì¹˜ ì¦ì •</div>
            </div>
        </div>
    </div>

    <script>
        let staffImages = {}; // ê° ìŠ¬ë¡¯ë³„ ì‚¬ì§„ ì €ì¥

        function updateView() {
            const client = document.getElementById('in-client').value || 'ì—…ì²´ëª…';
            document.getElementById('view-client').innerText = client;
            document.querySelectorAll('.v-client-inline').forEach(el => el.innerText = client);
            
            const n = new Date();
            const today = `${n.getFullYear()}ë…„ ${n.getMonth()+1}ì›” ${n.getDate()}ì¼(['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '][n.getDay()])`;
            document.getElementById('view-date').innerText = document.getElementById('in-date').value || today;
        }

        function loadLogo(e) {
            const out = document.getElementById('view-logo');
            if(e.target.files[0]) { out.src = URL.createObjectURL(e.target.files[0]); out.style.display = 'block'; }
        }

        function handleSelect(sel, idx) {
            const nameInput = document.getElementById(`name-${idx}`);
            if(sel.value !== "DIRECT" && sel.value !== "") {
                const [role, name, tel, img] = sel.value.split('/');
                nameInput.value = `${role}/${name}/${tel}`;
                staffImages[idx] = `photos/${img}`; // ê¸°ë³¸ í´ë” ê²½ë¡œ
            } else {
                nameInput.value = "";
                staffImages[idx] = null;
            }
            renderStaff();
        }

        function handleFile(input, idx) {
            if(input.files[0]) {
                staffImages[idx] = URL.createObjectURL(input.files[0]);
                renderStaff();
            }
        }

        function renderStaff() {
            const view = document.getElementById('staff-view');
            view.innerHTML = '';
            for(let i=0; i<9; i++) {
                const val = document.getElementById(`name-${i}`).value;
                if(val && val.includes('/')) {
                    const [tag, name, tel] = val.split('/');
                    const img = staffImages[i] || 'https://via.placeholder.com/65?text=Photo';
                    view.innerHTML += `
                        <div class="staff-card">
                            <img src="${img}">
                            <div class="staff-info"><span class="staff-tag">${tag}</span><br><b>${name}</b><br>${tel}</div>
                        </div>`;
                }
            }
        }

        window.onload = updateView;
    </script>
</body>
</html>
